
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="cQVj-BaADcGVOGB7GOvfbkgJjxni10C2fYWCZ03jOeo" name="google-site-verification" />

    <title>Use a MultiModal Planning Model for Vision Guided Navigation &#8212; EmbodiedAgents 0.4.2 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=260ea625" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=b4bb93ae"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'examples/planning_model';</script>
    <link rel="canonical" href="https://automatika-robotics.github.io/embodied-agents/examples/planning_model.html" />
    <link rel="icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API Reference" href="../apidocs/index.html" />
    <link rel="prev" title="Making the System Robust And Production Ready" href="multiprocessing.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/EMBODIED_AGENTS_LIGHT.png" class="logo__image only-light" alt="EmbodiedAgents 0.4.2 documentation - Home"/>
    <script>document.write(`<img src="../_static/EMBODIED_AGENTS_DARK.png" class="logo__image only-dark" alt="EmbodiedAgents 0.4.2 documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://automatikarobotics.com/" title="Automatika" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../_static/automatika-logo.png" class="icon-link-image" alt="Automatika"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/automatika-robotics/embodied-agents" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discord.gg/B9ZU6qjzND" title="Discord" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discord fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discord</span></a>
        </li>
</ul></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">EmbodiedAgents ü§ñ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation üõ†Ô∏è</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick Start üöÄ</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../basics/index.html">Basic Concepts üìö</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../basics/components.html">Components üß©</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/clients.html">Clients üîå</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/models.html">Models / Vector Databases üß†</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Recipes ‚ú®</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="conversational.html">Create a conversational agent with audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="prompt_engineering.html">Prompt engineering for LLMs/MLLMs using vision models</a></li>
<li class="toctree-l2"><a class="reference internal" href="semantic_map.html">Create a spatio-temporal semantic map</a></li>
<li class="toctree-l2"><a class="reference internal" href="goto.html">Create a Go-to-X component using map data</a></li>
<li class="toctree-l2"><a class="reference internal" href="tool_calling.html">Use Tool Calling in Go-to-X</a></li>
<li class="toctree-l2"><a class="reference internal" href="semantic_router.html">Create a semantic router to route text queries between different components</a></li>
<li class="toctree-l2"><a class="reference internal" href="complete.html">Bringing it all together ü§ñ</a></li>
<li class="toctree-l2"><a class="reference internal" href="multiprocessing.html">Making the System Robust And Production Ready</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Use a MultiModal Planning Model for Vision Guided Navigation</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../apidocs/index.html">API Reference</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../apidocs/agents/agents.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">agents</span></code></a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../apidocs/agents/agents.clients.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">agents.clients</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../apidocs/agents/agents.components.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">agents.components</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../apidocs/agents/agents.models.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">agents.models</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../apidocs/agents/agents.vectordbs.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">agents.vectordbs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../apidocs/agents/agents.ros.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">agents.ros</span></code></a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/automatika-robotics/embodied-agents/blob/main/docs/examples/planning_model.md?plain=1" target="_blank"
   class="btn btn-sm btn-source-file-button dropdown-item"
   title="Show source"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">Show source</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/automatika-robotics/embodied-agents/edit/main/docs/examples/planning_model.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/automatika-robotics/embodied-agents/issues/new?title=Issue%20on%20page%20%2Fexamples/planning_model.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/examples/planning_model.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Use a MultiModal Planning Model for Vision Guided Navigation</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initialize-the-llm-component">Initialize the LLM component</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initialize-the-mllm-component">Initialize the MLLM component</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-configure-autonomous-navigation-with-kompass"><strong>BONUS</strong> - Configure Autonomous Navigation with <strong><em>Kompass</em></strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#launching-the-components">Launching the Components</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="use-a-multimodal-planning-model-for-vision-guided-navigation">
<h1>Use a MultiModal Planning Model for Vision Guided Navigation<a class="headerlink" href="#use-a-multimodal-planning-model-for-vision-guided-navigation" title="Link to this heading">#</a></h1>
<p>In a previous <a class="reference internal" href="goto.html"><span class="std std-doc">recipe</span></a> we created an agent capable of understanding and responding to go-to commands. This agent relied on a semantic map that was stored in a vector database that could be accessed by an LLM component for doing retreival augmented generation. Through the magic of tool use (or manual post-processing), we were able to extract position coordinates from our vectorized information and send it to a <code class="docutils literal notranslate"><span class="pre">Pose</span></code> topic for goal-point navigation by an autonomous navigation system. In this example, we would see how we can generate a similar navigation goal, but from the visual input coming in from the robot‚Äôs sensors, i.e. we should be able to ask our physical agent to navigate to an object that is in its sight.</p>
<p>We will acheive this by utilizing two components in our agent. An LLM component and an MLLM component. The LLM component will act as a sentence parser, isolating the object description from the user‚Äôs command. The MLLM component will use a planning Vision Language Model (VLM), which can perform visual grounding and pointing.</p>
<section id="initialize-the-llm-component">
<h2>Initialize the LLM component<a class="headerlink" href="#initialize-the-llm-component" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">agents.components</span> <span class="kn">import</span> <span class="n">LLM</span>
<span class="kn">from</span> <span class="nn">agents.models</span> <span class="kn">import</span> <span class="n">OllamaModel</span>
<span class="kn">from</span> <span class="nn">agents.clients</span> <span class="kn">import</span> <span class="n">OllamaClient</span>
<span class="kn">from</span> <span class="nn">agents.ros</span> <span class="kn">import</span> <span class="n">Topic</span>

<span class="c1"># Start a Llama3.2 based llm component using ollama client</span>
<span class="n">llama</span> <span class="o">=</span> <span class="n">OllamaModel</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;llama&quot;</span><span class="p">,</span> <span class="n">checkpoint</span><span class="o">=</span><span class="s2">&quot;llama3.2:3b&quot;</span><span class="p">)</span>
<span class="n">llama_client</span> <span class="o">=</span> <span class="n">OllamaClient</span><span class="p">(</span><span class="n">llama</span><span class="p">)</span>

<span class="c1"># Define LLM input and output topics including goal_point topic of type PoseStamped</span>
<span class="n">goto_in</span> <span class="o">=</span> <span class="n">Topic</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;goto_in&quot;</span><span class="p">,</span> <span class="n">msg_type</span><span class="o">=</span><span class="s2">&quot;String&quot;</span><span class="p">)</span>
<span class="n">llm_output</span> <span class="o">=</span> <span class="n">Topic</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;llm_output&quot;</span><span class="p">,</span> <span class="n">msg_type</span><span class="o">=</span><span class="s2">&quot;String&quot;</span><span class="p">)</span>

<span class="c1"># initialize the component</span>
<span class="n">sentence_parser</span> <span class="o">=</span> <span class="n">LLM</span><span class="p">(</span>
    <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="n">goto_in</span><span class="p">],</span>
    <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="n">llm_output</span><span class="p">],</span>
    <span class="n">model_client</span><span class="o">=</span><span class="n">llama_client</span><span class="p">,</span>
    <span class="n">trigger</span><span class="o">=</span><span class="n">goto_in</span><span class="p">,</span>
    <span class="n">component_name</span><span class="o">=</span><span class="s1">&#39;sentence_parser&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>In order to configure the component to act as a sentence parser, we will set a topic prompt on its input topic.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sentence_parser</span><span class="o">.</span><span class="n">set_topic_prompt</span><span class="p">(</span><span class="n">goto_in</span><span class="p">,</span> <span class="n">template</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;You are a sentence parsing software.</span>
<span class="s2">Simply return the object description in the following command. {{ goto_in }}&quot;&quot;&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="initialize-the-mllm-component">
<h2>Initialize the MLLM component<a class="headerlink" href="#initialize-the-mllm-component" title="Link to this heading">#</a></h2>
<p>In this step, we will set up the MLLM component, which will enable the agent to visually ground natural language object descriptions (from our command, given to the LLM component above) using live sensor data. We use <strong><a class="reference external" href="https://github.com/FlagOpen/RoboBrain2.0">RoboBrain 2.0</a></strong> by BAAI, a state-of-the-art Vision-Language model (VLM) trained specifically for embodied agents reasoning.</p>
<p>RoboBrain 2.0 supports a wide range of embodied perception and planning capabilities, including interactive reasoning and spatial perception.</p>
<blockquote>
<div><p>üìÑ <strong>Citation</strong>:
BAAI RoboBrain Team. ‚ÄúRoboBrain 2.0 Technical Report.‚Äù arXiv preprint arXiv:2507.02029 (2025).
<a class="reference external" href="https://arxiv.org/abs/2507.02029">https://arxiv.org/abs/2507.02029</a></p>
</div></blockquote>
<p>In our scenario, we use RoboBrain2.0 to perform <strong>grounding</strong>‚Äîthat is, mapping the object description (parsed by the LLM component) to a visual detection in the agent‚Äôs camera view. This detection includes spatial coordinates that can be forwarded to the navigation system for physical movement. RoboBrain2.0 is available in RoboML, which we are using as a model serving platform here.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>RoboML is an aggregator library that provides a model serving aparatus for locally serving opensource ML models useful in robotics. Learn about setting up RoboML <a class="reference external" href="https://www.github.com/automatika-robotics/roboml">here</a>.</p>
</div>
<p>To configure this grounding behavious, we initialize an <code class="docutils literal notranslate"><span class="pre">MLLMConfig</span></code> object and set the <code class="docutils literal notranslate"><span class="pre">task</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">&quot;grounding&quot;</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">MLLMConfig</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="s2">&quot;grounding&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">task</span></code> parameter specifies the type of multimodal operation the component should perform.
Supported values are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;general&quot;</span></code> ‚Äì free-form multimodal reasoning, produces output of type String</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;pointing&quot;</span></code> ‚Äì provide a list of points on the object, produces output of type PointsOfInterest</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;affordance&quot;</span></code> ‚Äì detect object affordances, produces output of type Detections</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;trajectory&quot;</span></code> ‚Äì predict motion path in pixel space, produces output of type PointsOfInterst</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;grounding&quot;</span></code> ‚Äì localize an object in the scene from a description with a bounding box, produces output of type Detections</p></li>
</ul>
<p>This parameter ensures the model behaves in a task-specific way, especially when using models like RoboBrain 2.0 that have been trained on multiple multimodal instruction types.</p>
</div>
<p>With this setup, the MLLM component receives parsed object descriptions from the LLM and produces structured <code class="docutils literal notranslate"><span class="pre">Detections</span></code> messages identifying the object‚Äôs location in space‚Äîenabling the agent to navigate towards a visually grounded goal. Furthermore, we will use an <em>RGBD</em> type message and the image input to the MLLM component. This message is an aligned RGB and depth image message that is usually available in the ROS2 packages provided by stereo camera vendors (e.g. Realsense). The utility of this choice, would become apparent later in this tutorial.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">agents.components</span> <span class="kn">import</span> <span class="n">MLLM</span>
<span class="kn">from</span> <span class="nn">agents.models</span> <span class="kn">import</span> <span class="n">RoboBrain2</span>
<span class="kn">from</span> <span class="nn">agents.clients</span> <span class="kn">import</span> <span class="n">RoboMLHTTPClient</span>
<span class="kn">from</span> <span class="nn">agents.config</span> <span class="kn">import</span> <span class="n">MLLMConfig</span>

<span class="c1"># Start a RoboBrain2 based mllm component using RoboML client</span>
<span class="n">robobrain</span> <span class="o">=</span> <span class="n">RoboBrain2</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;robobrain&quot;</span><span class="p">)</span>
<span class="n">robobrain_client</span> <span class="o">=</span> <span class="n">RoboMLHTTPClient</span><span class="p">(</span><span class="n">robobrain</span><span class="p">)</span>

<span class="c1"># Define MLLM output topic</span>
<span class="n">rgbd0</span> <span class="o">=</span> <span class="n">Topic</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;rgbd0&quot;</span><span class="p">,</span> <span class="n">msg_type</span><span class="o">=</span><span class="s2">&quot;RGBD&quot;</span><span class="p">)</span>
<span class="n">grounding_output</span> <span class="o">=</span> <span class="n">Topic</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;grounding_output&quot;</span><span class="p">,</span> <span class="n">msg_type</span><span class="o">=</span><span class="s2">&quot;Detections&quot;</span><span class="p">)</span>

<span class="c1"># Set the task in MLLMConfig</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">MLLMConfig</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="s2">&quot;grounding&quot;</span><span class="p">)</span>

<span class="c1"># initialize the component</span>
<span class="n">go_to_x</span> <span class="o">=</span> <span class="n">MLLM</span><span class="p">(</span>
    <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="n">llm_output</span><span class="p">],</span>
    <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="n">grounding_output</span><span class="p">],</span>
    <span class="n">model_client</span><span class="o">=</span><span class="n">robobrain_client</span><span class="p">,</span>
    <span class="n">trigger</span><span class="o">=</span><span class="n">llm_output</span><span class="p">,</span>
    <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
    <span class="n">component_name</span><span class="o">=</span><span class="s2">&quot;go-to-x&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When a task is specified in MLLMConfig, the MLLM component automatically produces structured output depending on the task. The downstream consumers of this input should have appropriate callbacks configured for handling these output messages.</p>
</div>
</section>
<section id="bonus-configure-autonomous-navigation-with-kompass">
<h2><strong>BONUS</strong> - Configure Autonomous Navigation with <strong><em>Kompass</em></strong><a class="headerlink" href="#bonus-configure-autonomous-navigation-with-kompass" title="Link to this heading">#</a></h2>
<p><a class="reference external" href="https://automatika-robotics.github.io/kompass">Kompass</a> is the most advanced, GPU powered and featue complete open-source navigation stack out there. Its built with the same underlying principles as <em>EmbodiedAgents</em>, thus it is event-driven and can be customized with a simple python script. In this section we will, show how to start <em>Kompass</em> in the same recipe that we have been developing for a vision guided, goto agent.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Learn about installing Kompass <a class="reference external" href="https://automatika-robotics.github.io/kompass/install.html">here</a></p>
</div>
<p><em>Kompass</em> allows for various kinds of navigation behaviour configured in the same recipe. However, we will only be using point-to-point navigation and the default configuration for its components. Since <em>Kompass</em> is a navigation stack, as a first step, we will configure the robot and its motion model as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">kompass.robot</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">AngularCtrlLimits</span><span class="p">,</span>
    <span class="n">LinearCtrlLimits</span><span class="p">,</span>
    <span class="n">RobotGeometry</span><span class="p">,</span>
    <span class="n">RobotType</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">kompass.config</span> <span class="kn">import</span> <span class="n">RobotConfig</span>

<span class="c1"># Setup your robot configuration</span>
<span class="n">my_robot</span> <span class="o">=</span> <span class="n">RobotConfig</span><span class="p">(</span>
    <span class="n">model_type</span><span class="o">=</span><span class="n">RobotType</span><span class="o">.</span><span class="n">DIFFERENTIAL_DRIVE</span><span class="p">,</span>
    <span class="n">geometry_type</span><span class="o">=</span><span class="n">RobotGeometry</span><span class="o">.</span><span class="n">Type</span><span class="o">.</span><span class="n">CYLINDER</span><span class="p">,</span>
    <span class="n">geometry_params</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]),</span>
    <span class="n">ctrl_vx_limits</span><span class="o">=</span><span class="n">LinearCtrlLimits</span><span class="p">(</span><span class="n">max_vel</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">max_acc</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">max_decel</span><span class="o">=</span><span class="mf">2.5</span><span class="p">),</span>
    <span class="n">ctrl_omega_limits</span><span class="o">=</span><span class="n">AngularCtrlLimits</span><span class="p">(</span>
        <span class="n">max_vel</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">max_acc</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">max_decel</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">max_steer</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">3</span>
    <span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Now we can add our default components. Our component of interest is the <em>planning</em> component, that plots a path to the goal point. We will give the output topic from our MLLM component as the goal point topic to the planning component.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>While planning components typically require goal points as <code class="docutils literal notranslate"><span class="pre">Pose</span></code> or <code class="docutils literal notranslate"><span class="pre">PoseStamped</span></code> messages in world space, Kompass also accepts <code class="docutils literal notranslate"><span class="pre">Detection</span></code> and <code class="docutils literal notranslate"><span class="pre">PointOfInterest</span></code> messages from EmbodiedAgents. These contain pixel-space coordinates identified by ML models. When generated from RGBD inputs, the associated depth images are included, enabling Kompass to automatically convert pixel-space points to averaged world-space coordinates using camera intrinsics.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kompass.components</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Controller</span><span class="p">,</span>
    <span class="n">Planner</span><span class="p">,</span>
    <span class="n">DriveManager</span><span class="p">,</span>
    <span class="n">LocalMapper</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Setup components with default config, inputs and outputs</span>
<span class="n">planner</span> <span class="o">=</span> <span class="n">Planner</span><span class="p">(</span><span class="n">component_name</span><span class="o">=</span><span class="s2">&quot;planner&quot;</span><span class="p">)</span>

<span class="c1"># Set our grounding output as the goal_point in the planner component</span>
<span class="n">planner</span><span class="o">.</span><span class="n">inputs</span><span class="p">(</span><span class="n">goal_point</span><span class="o">=</span><span class="n">grounding_output</span><span class="p">)</span>

<span class="c1"># Get a default Local Mapper component</span>
<span class="n">mapper</span> <span class="o">=</span> <span class="n">LocalMapper</span><span class="p">(</span><span class="n">component_name</span><span class="o">=</span><span class="s2">&quot;mapper&quot;</span><span class="p">)</span>

<span class="c1"># Get a default controller component</span>
<span class="n">controller</span> <span class="o">=</span> <span class="n">Controller</span><span class="p">(</span><span class="n">component_name</span><span class="o">=</span><span class="s2">&quot;controller&quot;</span><span class="p">)</span>
<span class="c1"># Configure Controller to use local map instead of direct sensor information</span>
<span class="n">controller</span><span class="o">.</span><span class="n">direct_sensor</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># Setup a default drive manager</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">DriveManager</span><span class="p">(</span><span class="n">component_name</span><span class="o">=</span><span class="s2">&quot;drive_manager&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Learn the details of point navigation in Kompass using this step-by-step <a class="reference external" href="https://automatika-robotics.github.io/kompass/tutorials/point_navigation.htm">tutorial</a></p>
</div>
</section>
<section id="launching-the-components">
<h2>Launching the Components<a class="headerlink" href="#launching-the-components" title="Link to this heading">#</a></h2>
<p>Now we will launch our Go-to-X component and Kompass components using the same launcher. We will get the Launcher from Kompass this time.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kompass.launcher</span> <span class="kn">import</span> <span class="n">Launcher</span>

<span class="n">launcher</span> <span class="o">=</span> <span class="n">Launcher</span><span class="p">()</span>

<span class="c1"># Add the components from EmbodiedAgents</span>
<span class="n">launcher</span><span class="o">.</span><span class="n">add_pkg</span><span class="p">(</span><span class="n">components</span><span class="o">=</span><span class="p">[</span><span class="n">sentence_parser</span><span class="p">,</span> <span class="n">go_to_x</span><span class="p">],</span> <span class="n">ros_log_level</span><span class="o">=</span><span class="s2">&quot;warn&quot;</span><span class="p">,</span>
                 <span class="n">package_name</span><span class="o">=</span><span class="s2">&quot;automatika_embodied_agents&quot;</span><span class="p">,</span>
                 <span class="n">executable_entry_point</span><span class="o">=</span><span class="s2">&quot;executable&quot;</span><span class="p">,</span>
                 <span class="n">multiprocessing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Add the components from Kompass as follows</span>
<span class="n">launcher</span><span class="o">.</span><span class="n">kompass</span><span class="p">(</span><span class="n">components</span><span class="o">=</span><span class="p">[</span><span class="n">planner</span><span class="p">,</span> <span class="n">controller</span><span class="p">,</span> <span class="n">mapper</span><span class="p">,</span> <span class="n">driver</span><span class="p">])</span>

<span class="c1"># Set the robot config for all components as defined above and bring up</span>
<span class="n">launcher</span><span class="o">.</span><span class="n">robot</span> <span class="o">=</span> <span class="n">my_robot</span>
<span class="n">launcher</span><span class="o">.</span><span class="n">bringup</span><span class="p">()</span>
</pre></div>
</div>
<p>And that is all. Our Go-to-X component is ready. The complete code for this example is given below:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Vision Guided Go-to-X Component</span><a class="headerlink" href="#id1" title="Link to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos">  2</span><span class="kn">from</span> <span class="nn">agents.components</span> <span class="kn">import</span> <span class="n">LLM</span>
<span class="linenos">  3</span><span class="kn">from</span> <span class="nn">agents.models</span> <span class="kn">import</span> <span class="n">OllamaModel</span>
<span class="linenos">  4</span><span class="kn">from</span> <span class="nn">agents.clients</span> <span class="kn">import</span> <span class="n">OllamaClient</span>
<span class="linenos">  5</span><span class="kn">from</span> <span class="nn">agents.ros</span> <span class="kn">import</span> <span class="n">Topic</span>
<span class="linenos">  6</span><span class="kn">from</span> <span class="nn">agents.components</span> <span class="kn">import</span> <span class="n">MLLM</span>
<span class="linenos">  7</span><span class="kn">from</span> <span class="nn">agents.models</span> <span class="kn">import</span> <span class="n">RoboBrain2</span>
<span class="linenos">  8</span><span class="kn">from</span> <span class="nn">agents.clients</span> <span class="kn">import</span> <span class="n">RoboMLHTTPClient</span>
<span class="linenos">  9</span><span class="kn">from</span> <span class="nn">agents.config</span> <span class="kn">import</span> <span class="n">MLLMConfig</span>
<span class="linenos"> 10</span><span class="kn">from</span> <span class="nn">kompass.robot</span> <span class="kn">import</span> <span class="p">(</span>
<span class="linenos"> 11</span>    <span class="n">AngularCtrlLimits</span><span class="p">,</span>
<span class="linenos"> 12</span>    <span class="n">LinearCtrlLimits</span><span class="p">,</span>
<span class="linenos"> 13</span>    <span class="n">RobotGeometry</span><span class="p">,</span>
<span class="linenos"> 14</span>    <span class="n">RobotType</span><span class="p">,</span>
<span class="linenos"> 15</span><span class="p">)</span>
<span class="linenos"> 16</span><span class="kn">from</span> <span class="nn">kompass.config</span> <span class="kn">import</span> <span class="n">RobotConfig</span>
<span class="linenos"> 17</span><span class="kn">from</span> <span class="nn">kompass.components</span> <span class="kn">import</span> <span class="p">(</span>
<span class="linenos"> 18</span>    <span class="n">Controller</span><span class="p">,</span>
<span class="linenos"> 19</span>    <span class="n">Planner</span><span class="p">,</span>
<span class="linenos"> 20</span>    <span class="n">DriveManager</span><span class="p">,</span>
<span class="linenos"> 21</span>    <span class="n">LocalMapper</span><span class="p">,</span>
<span class="linenos"> 22</span><span class="p">)</span>
<span class="linenos"> 23</span><span class="kn">from</span> <span class="nn">kompass.launcher</span> <span class="kn">import</span> <span class="n">Launcher</span>
<span class="linenos"> 24</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span><span class="c1"># Start a Llama3.2 based llm component using ollama client</span>
<span class="linenos"> 27</span><span class="n">llama</span> <span class="o">=</span> <span class="n">OllamaModel</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;llama&quot;</span><span class="p">,</span> <span class="n">checkpoint</span><span class="o">=</span><span class="s2">&quot;llama3.2:3b&quot;</span><span class="p">)</span>
<span class="linenos"> 28</span><span class="n">llama_client</span> <span class="o">=</span> <span class="n">OllamaClient</span><span class="p">(</span><span class="n">llama</span><span class="p">)</span>
<span class="linenos"> 29</span>
<span class="linenos"> 30</span><span class="c1"># Define LLM input and output topics including goal_point topic of type PoseStamped</span>
<span class="linenos"> 31</span><span class="n">goto_in</span> <span class="o">=</span> <span class="n">Topic</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;goto_in&quot;</span><span class="p">,</span> <span class="n">msg_type</span><span class="o">=</span><span class="s2">&quot;String&quot;</span><span class="p">)</span>
<span class="linenos"> 32</span><span class="n">llm_output</span> <span class="o">=</span> <span class="n">Topic</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;llm_output&quot;</span><span class="p">,</span> <span class="n">msg_type</span><span class="o">=</span><span class="s2">&quot;String&quot;</span><span class="p">)</span>
<span class="linenos"> 33</span>
<span class="linenos"> 34</span><span class="c1"># initialize the component</span>
<span class="linenos"> 35</span><span class="n">sentence_parser</span> <span class="o">=</span> <span class="n">LLM</span><span class="p">(</span>
<span class="linenos"> 36</span>    <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="n">goto_in</span><span class="p">],</span>
<span class="linenos"> 37</span>    <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="n">llm_output</span><span class="p">],</span>
<span class="linenos"> 38</span>    <span class="n">model_client</span><span class="o">=</span><span class="n">llama_client</span><span class="p">,</span>
<span class="linenos"> 39</span>    <span class="n">trigger</span><span class="o">=</span><span class="n">goto_in</span><span class="p">,</span>
<span class="linenos"> 40</span>    <span class="n">component_name</span><span class="o">=</span><span class="s1">&#39;sentence_parser&#39;</span>
<span class="linenos"> 41</span><span class="p">)</span>
<span class="linenos"> 42</span>
<span class="linenos"> 43</span><span class="c1"># Start a RoboBrain2 based mllm component using RoboML client</span>
<span class="linenos"> 44</span><span class="n">robobrain</span> <span class="o">=</span> <span class="n">RoboBrain2</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;robobrain&quot;</span><span class="p">)</span>
<span class="linenos"> 45</span><span class="n">robobrain_client</span> <span class="o">=</span> <span class="n">RoboMLHTTPClient</span><span class="p">(</span><span class="n">robobrain</span><span class="p">)</span>
<span class="linenos"> 46</span>
<span class="linenos"> 47</span><span class="c1"># Define MLLM output topic</span>
<span class="linenos"> 48</span><span class="n">rgbd0</span> <span class="o">=</span> <span class="n">Topic</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;rgbd0&quot;</span><span class="p">,</span> <span class="n">msg_type</span><span class="o">=</span><span class="s2">&quot;RGBD&quot;</span><span class="p">)</span>
<span class="linenos"> 49</span><span class="n">grounding_output</span> <span class="o">=</span> <span class="n">Topic</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;grounding_output&quot;</span><span class="p">,</span> <span class="n">msg_type</span><span class="o">=</span><span class="s2">&quot;Detections&quot;</span><span class="p">)</span>
<span class="linenos"> 50</span>
<span class="linenos"> 51</span><span class="c1"># Set the task in MLLMConfig</span>
<span class="linenos"> 52</span><span class="n">config</span> <span class="o">=</span> <span class="n">MLLMConfig</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="s2">&quot;grounding&quot;</span><span class="p">)</span>
<span class="linenos"> 53</span>
<span class="linenos"> 54</span><span class="c1"># initialize the component</span>
<span class="linenos"> 55</span><span class="n">go_to_x</span> <span class="o">=</span> <span class="n">MLLM</span><span class="p">(</span>
<span class="linenos"> 56</span>    <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="n">llm_output</span><span class="p">],</span>
<span class="linenos"> 57</span>    <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="n">grounding_output</span><span class="p">],</span>
<span class="linenos"> 58</span>    <span class="n">model_client</span><span class="o">=</span><span class="n">robobrain_client</span><span class="p">,</span>
<span class="linenos"> 59</span>    <span class="n">trigger</span><span class="o">=</span><span class="n">llm_output</span><span class="p">,</span>
<span class="linenos"> 60</span>    <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
<span class="linenos"> 61</span>    <span class="n">component_name</span><span class="o">=</span><span class="s2">&quot;go-to-x&quot;</span>
<span class="linenos"> 62</span><span class="p">)</span>
<span class="linenos"> 63</span>
<span class="linenos"> 64</span><span class="c1"># Setup your robot configuration</span>
<span class="linenos"> 65</span><span class="n">my_robot</span> <span class="o">=</span> <span class="n">RobotConfig</span><span class="p">(</span>
<span class="linenos"> 66</span>    <span class="n">model_type</span><span class="o">=</span><span class="n">RobotType</span><span class="o">.</span><span class="n">DIFFERENTIAL_DRIVE</span><span class="p">,</span>
<span class="linenos"> 67</span>    <span class="n">geometry_type</span><span class="o">=</span><span class="n">RobotGeometry</span><span class="o">.</span><span class="n">Type</span><span class="o">.</span><span class="n">CYLINDER</span><span class="p">,</span>
<span class="linenos"> 68</span>    <span class="n">geometry_params</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]),</span>
<span class="linenos"> 69</span>    <span class="n">ctrl_vx_limits</span><span class="o">=</span><span class="n">LinearCtrlLimits</span><span class="p">(</span><span class="n">max_vel</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">max_acc</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">max_decel</span><span class="o">=</span><span class="mf">2.5</span><span class="p">),</span>
<span class="linenos"> 70</span>    <span class="n">ctrl_omega_limits</span><span class="o">=</span><span class="n">AngularCtrlLimits</span><span class="p">(</span>
<span class="linenos"> 71</span>        <span class="n">max_vel</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">max_acc</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">max_decel</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">max_steer</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">3</span>
<span class="linenos"> 72</span>    <span class="p">),</span>
<span class="linenos"> 73</span><span class="p">)</span>
<span class="linenos"> 74</span>
<span class="linenos"> 75</span><span class="c1"># Setup components with default config, inputs and outputs</span>
<span class="linenos"> 76</span><span class="n">planner</span> <span class="o">=</span> <span class="n">Planner</span><span class="p">(</span><span class="n">component_name</span><span class="o">=</span><span class="s2">&quot;planner&quot;</span><span class="p">)</span>
<span class="linenos"> 77</span>
<span class="linenos"> 78</span><span class="c1"># Set our grounding output as the goal_point in the planner component</span>
<span class="linenos"> 79</span><span class="n">planner</span><span class="o">.</span><span class="n">inputs</span><span class="p">(</span><span class="n">goal_point</span><span class="o">=</span><span class="n">grounding_output</span><span class="p">)</span>
<span class="linenos"> 80</span>
<span class="linenos"> 81</span><span class="c1"># Get a default Local Mapper component</span>
<span class="linenos"> 82</span><span class="n">mapper</span> <span class="o">=</span> <span class="n">LocalMapper</span><span class="p">(</span><span class="n">component_name</span><span class="o">=</span><span class="s2">&quot;mapper&quot;</span><span class="p">)</span>
<span class="linenos"> 83</span>
<span class="linenos"> 84</span><span class="c1"># Get a default controller component</span>
<span class="linenos"> 85</span><span class="n">controller</span> <span class="o">=</span> <span class="n">Controller</span><span class="p">(</span><span class="n">component_name</span><span class="o">=</span><span class="s2">&quot;controller&quot;</span><span class="p">)</span>
<span class="linenos"> 86</span><span class="c1"># Configure Controller to use local map instead of direct sensor information</span>
<span class="linenos"> 87</span><span class="n">controller</span><span class="o">.</span><span class="n">direct_sensor</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos"> 88</span>
<span class="linenos"> 89</span><span class="c1"># Setup a default drive manager</span>
<span class="linenos"> 90</span><span class="n">driver</span> <span class="o">=</span> <span class="n">DriveManager</span><span class="p">(</span><span class="n">component_name</span><span class="o">=</span><span class="s2">&quot;drive_manager&quot;</span><span class="p">)</span>
<span class="linenos"> 91</span>
<span class="linenos"> 92</span><span class="n">launcher</span> <span class="o">=</span> <span class="n">Launcher</span><span class="p">()</span>
<span class="linenos"> 93</span>
<span class="linenos"> 94</span><span class="c1"># Add the components from EmbodiedAgents</span>
<span class="linenos"> 95</span><span class="n">launcher</span><span class="o">.</span><span class="n">add_pkg</span><span class="p">(</span><span class="n">components</span><span class="o">=</span><span class="p">[</span><span class="n">sentence_parser</span><span class="p">,</span> <span class="n">go_to_x</span><span class="p">],</span> <span class="n">ros_log_level</span><span class="o">=</span><span class="s2">&quot;warn&quot;</span><span class="p">,</span>
<span class="linenos"> 96</span>                 <span class="n">package_name</span><span class="o">=</span><span class="s2">&quot;automatika_embodied_agents&quot;</span><span class="p">,</span>
<span class="linenos"> 97</span>                 <span class="n">executable_entry_point</span><span class="o">=</span><span class="s2">&quot;executable&quot;</span><span class="p">,</span>
<span class="linenos"> 98</span>                 <span class="n">multiprocessing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 99</span>
<span class="linenos">100</span><span class="c1"># Add the components from Kompass as follows</span>
<span class="linenos">101</span><span class="n">launcher</span><span class="o">.</span><span class="n">kompass</span><span class="p">(</span><span class="n">components</span><span class="o">=</span><span class="p">[</span><span class="n">planner</span><span class="p">,</span> <span class="n">controller</span><span class="p">,</span> <span class="n">mapper</span><span class="p">,</span> <span class="n">driver</span><span class="p">])</span>
<span class="linenos">102</span>
<span class="linenos">103</span><span class="c1"># Set the robot config for all components as defined above and bring up</span>
<span class="linenos">104</span><span class="n">launcher</span><span class="o">.</span><span class="n">robot</span> <span class="o">=</span> <span class="n">my_robot</span>
<span class="linenos">105</span><span class="n">launcher</span><span class="o">.</span><span class="n">bringup</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="multiprocessing.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Making the System Robust And Production Ready</p>
      </div>
    </a>
    <a class="right-next"
       href="../apidocs/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">API Reference</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initialize-the-llm-component">Initialize the LLM component</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initialize-the-mllm-component">Initialize the MLLM component</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-configure-autonomous-navigation-with-kompass"><strong>BONUS</strong> - Configure Autonomous Navigation with <strong><em>Kompass</em></strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#launching-the-components">Launching the Components</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Automatika Robotics
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2025, Automatika Robotics.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>